{# Smart image fallback macro
  Usage:
  {{ img_macro.smart_image(large_url, medium_url, fallback_url, alt_text, class_list) }}
#}
{% macro smart_image(large, medium, fallback, alt_text, class_name="") %}
 {% set main_src = large or medium or fallback %}
 <img src="{{ main_src }}"
      loading="lazy"
      alt="{{ alt_text }}"
      class="{{ class_name }}"
      data-fallback-src="{{ medium or '' }},{{ fallback or '' }}">
{% endmacro %}
