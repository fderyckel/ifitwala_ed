<!DOCTYPE html>
<!-- Built on Frappe. https://frappeframework.com/ -->
<html lang="{{ boot.lang }}" dir="{{ 'rtl' if is_rtl() else 'ltr' }}">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="frappe">

	{% block meta_block %}
		{% include "templates/includes/meta_block.html" %}
	{% endblock %}

	<title>{% block title %}{{ title | striptags }}{% endblock %}</title>

	{% block favicon %}
		<link rel="shortcut icon" href="{{ (favicon or "/assets/frappe/images/frappe-favicon.svg") | abs_url }}" type="image/x-icon">
	{% endblock %}

	{%- block head -%}
		{% include "templates/includes/head.html" %}
	{%- endblock -%}

	{%- block head_include -%}
		{{ super() }}
		{{ include_style('student_portal.bundle.css') }}
	{%- endblock -%}
</head>

<body frappe-session-status="{{ 'logged-in' if frappe.session.user != 'Guest' else 'logged-out' }}"
      data-path="{{ path | e }}" {%- if template and template.endswith('.md') %} frappe-content-type="markdown" {%- endif %} class="{{ body_class or '' }}">

	{%- block banner -%}
		{% include "templates/includes/banner_extension.html" ignore missing %}
		{% if banner_html -%}
			{{ banner_html or "" }}
		{%- endif %}
	{%- endblock -%}

	{%- block navbar -%}
		{{ web_block(
			navbar_template or 'Standard Navbar',
			values=_context_dict,
			add_container=0,
			add_top_padding=0,
			add_bottom_padding=0,
		) }}
	{%- endblock -%}

	<!-- Custom Student Portal Layout -->
	<div class="portal-layout portal-wrapper">
		<div class="portal-sidebar-col sticky-top">
			{% block portal_sidebar %}
				{% include "ifitwala_ed/templates/portal_sidebar.html" %}
			{% endblock %}
		</div>
		<div class="portal-main-col">
			{% block breadcrumbs %}
				{% include "templates/includes/breadcrumbs.html" %}
			{% endblock %}
			{% block content %}
				{{ content }}
			{% endblock %}
		</div>
	</div>
	<!-- End Custom Layout -->

	{%- block footer -%}
		{{ web_block(
			footer_template or 'Standard Footer',
			values=_context_dict,
			add_container=0,
			add_top_padding=0,
			add_bottom_padding=0
		) }}
	{%- endblock -%}

	<div id="all-symbols" style="display:none"></div>
	{%- for path in web_include_icons -%}
		{{ include_icons(path) }}
	{%- endfor -%}

	{%- block base_scripts -%}
		<!-- js should be loaded in body! -->
		<script>
			frappe.boot = {{ boot | json }};
			// for backward compatibility of some libs
			frappe.sys_defaults = frappe.boot.sysdefaults;
		</script>
		{{ include_script('frappe-web.bundle.js') }}
		{{ include_script('student_portal.bundle.js') }}
	{%- endblock -%}

	{%- for link in web_include_js -%}
		{{ include_script(link) }}
	{%- endfor -%}

	<!-- csrf_token -->
	{%- block body_include -%}{{ body_include or "" }}{%- endblock -%}
</body>
</html>
