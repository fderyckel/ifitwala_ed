{% if noindex %}
<meta name="robots" content="noindex,nofollow,noarchive" />
{% endif %}

<div style="max-width: 960px; margin: 24px auto; padding: 0 16px; font-family: Helvetica, Arial, sans-serif;">
  {% if share_error %}
    <section style="border: 1px solid #f0d0d0; background: #fff7f7; padding: 16px; border-radius: 12px;">
      <h1 style="margin: 0 0 8px 0;">Share Link Unavailable</h1>
      <p style="margin: 0; color: #6b1b1b;">{{ share_error }}</p>
    </section>
  {% elif share %}
    <header style="margin-bottom: 18px;">
      <h1 style="margin: 0 0 4px 0;">{{ share.portfolio.title }}</h1>
      {% if share.portfolio.subtitle %}
      <p style="margin: 0 0 8px 0; color: #555;">{{ share.portfolio.subtitle }}</p>
      {% endif %}
      <p style="margin: 0; color: #444;">
        {{ share.portfolio.student_name }} · {{ share.portfolio.academic_year }}
      </p>
    </header>

    {% if share.portfolio.items %}
      <div style="display: grid; gap: 14px;">
        {% for item in share.portfolio.items %}
          <article style="border: 1px solid #e6e6e6; border-radius: 10px; padding: 14px; background: #fff;">
            <p style="margin: 0 0 6px 0; font-size: 12px; color: #666;">{{ item.item_type }}{% if item.evidence_date %} · {{ item.evidence_date }}{% endif %}</p>
            {% if item.caption %}
            <h2 style="margin: 0 0 6px 0; font-size: 18px;">{{ item.caption }}</h2>
            {% endif %}
            {% if item.reflection_summary %}
            <p style="margin: 0 0 8px 0; color: #333;">{{ item.reflection_summary }}</p>
            {% endif %}
            {% if item.artefact_file_url and share.share_link.allow_download %}
            <p style="margin: 0;">
              <a href="{{ item.artefact_file_url }}" target="_blank" rel="noopener">
                Open artefact{% if item.artefact_file_name %}: {{ item.artefact_file_name }}{% endif %}
              </a>
            </p>
            {% endif %}
          </article>
        {% endfor %}
      </div>
    {% else %}
      <section style="border: 1px dashed #ddd; border-radius: 10px; padding: 16px; color: #555;">
        No showcase items are available.
      </section>
    {% endif %}
  {% endif %}
</div>
