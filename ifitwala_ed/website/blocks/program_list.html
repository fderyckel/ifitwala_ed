<!-- ifitwala_ed/website/blocks/program_list.html -->
{% import "ifitwala_ed/templates/includes/smart_image_macro.html" as img_macro %}

<section class="block block-program-list">
	<div class="container">
		{% if data.title %}
			<h2 class="text-center fw-bold display-6 my-5">{{ data.title }}</h2>
			<div class="section-divider"></div>
		{% endif %}

		{% if data.programs %}
			<div class="program-grid">
				{% for program in data.programs %}
					<div class="program-block">
						<a href="{{ program.url }}" class="card h-100 w-100 text-decoration-none border-0 shadow-sm">
							{% if program.image and program.image.original %}
								{{ img_macro.smart_image(
									None,
									None,
									program.image.card,
									program.image.thumb,
									program.image.original,
									program.title,
									"card-img-top",
									fallback="card"
								) }}
							{% endif %}
							<div class="card-body d-flex flex-column">
								<h3 class="card-title text-center fw-bold fs-5">{{ program.title }}</h3>
								<div class="decor-bar mx-auto mb-2"></div>
								{% if data.show_description %}
									<p class="card-text text-muted small flex-grow-1">{{ program.description }}</p>
								{% endif %}
								<span class="mt-2 fw-bold text-primary text-end">View details &rsaquo;</span>
							</div>
						</a>
					</div>
				{% endfor %}
			</div>
		{% endif %}
	</div>
</section>
