@reference "tailwindcss";

/* =====================================================================
   IFITWALA COMPONENT LIBRARY — ATOMS & MOLECULES
   ===================================================================== */

@layer components {
  /* ---------------------------------------------------------------
     1. Avatar (square)
     --------------------------------------------------------------- */
  .avatar {
    @apply h-16 w-16 rounded-xl overflow-hidden shadow-inner bg-slate-100
           ring-1 ring-border/85;
  }

  .avatar img {
    @apply h-full w-full object-cover;
  }


	/* ---------------------------------------------------------------
   	 TYPOGRAPHY SCALE — SEMANTIC HELPERS
		--------------------------------------------------------------- */

  .type-display {
    @apply font-semibold tracking-tight text-3xl md:text-4xl;
  }

  .type-h1 {
    @apply font-semibold tracking-tight text-2xl md:text-3xl;
  }

  .type-h2 {
    @apply font-semibold tracking-tight text-xl md:text-2xl;
  }

  .type-h3 {
    @apply font-semibold text-lg md:text-xl;
  }

  .type-body {
    @apply text-[0.95rem] md:text-base leading-relaxed;
  }

  .type-body-strong {
    @apply type-body font-medium;
  }

  .type-meta {
    @apply text-sm text-slate-token/80;
  }

  .type-caption {
    @apply text-xs text-slate-token/75;
  }

  .type-overline {
    @apply text-[0.7rem] font-semibold uppercase tracking-[0.16em] text-slate-token/75;
  }

  .type-label {
    @apply text-[0.7rem] font-semibold uppercase tracking-[0.12em] text-slate-token/75;
  }

  /* ---------------------------------------------------------------
     Reusable card + chip shells for analytics surfaces
     --------------------------------------------------------------- */
  .card-surface {
    @apply rounded-xl border shadow-sm;
    border-color: rgb(var(--border-rgb)/0.65);
    background: rgb(var(--surface-rgb)/0.92);
  }

  .card-surface-muted {
    @apply rounded-xl border shadow-sm;
    border-color: rgb(var(--border-rgb)/0.65);
    background: rgb(var(--surface-rgb)/0.88);
  }

  .chip {
    @apply inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-semibold border;
    border-color: rgb(var(--border-rgb)/0.65);
    background: rgb(var(--surface-rgb)/0.65);
    color: rgb(var(--ink-rgb)/0.75);
  }

  .chip-active {
    background: #1f7a45;
    color: #fff;
    border-color: transparent;
    box-shadow: var(--shadow-soft);
  }

  .chip-alert {
    background: rgb(var(--flame-rgb)/0.15);
    color: rgb(var(--flame-rgb));
    border-color: transparent;
  }

  /* ---------------------------------------------------------------
     Staff portal "palette card" — focus / task list container
     Soft shell surface, not pure white
     --------------------------------------------------------------- */
  .palette-card {
    @apply border rounded-2xl shadow-sm overflow-hidden;
    border-color: rgb(var(--border-rgb) / 0.90);
    background-color: rgb(var(--surface-rgb)/0.98);
  }

  /* Card shell for dense tool panels */
  .card-panel {
    @apply rounded-2xl border shadow-sm;
    border-color: rgb(var(--border-rgb) / 0.80);
    background-color: rgb(var(--surface-rgb));
  }

  /* Toolbar strip used atop filters */
  .surface-toolbar {
    @apply rounded-2xl border bg-[rgb(var(--surface-rgb)/0.92)]
           px-4 py-3 shadow-sm;
    border-color: rgb(var(--border-rgb) / 0.80);
  }

  /* Toolbar wrapper for analytics filters */
  .toolbar {
    @apply surface-toolbar flex flex-wrap items-center gap-3 mb-2;
  }

  /* Calendar/attendance card */
  .attendance-card {
    @apply rounded-2xl border shadow-sm;
    border-color: rgb(var(--border-rgb) / 0.80);
    background-color: rgb(var(--surface-rgb));
  }

  .attendance-card-header {
    @apply mb-2 flex items-center justify-between gap-3;
  }

  .attendance-card-body {
    @apply rounded-xl border bg-[rgb(var(--surface-rgb)/0.92)] px-3 py-3 shadow-inner;
    border-color: rgb(var(--border-rgb) / 0.60);
  }

  .analytics-card {
    @apply rounded-2xl border bg-[rgb(var(--surface-rgb)/0.96)] px-4 py-4 shadow-sm;
    border-color: rgb(var(--border-rgb) / 0.85);
  }

  .chip-toggle {
    @apply rounded-full px-4 py-1 text-xs font-semibold transition;
    background-color: rgb(var(--surface-rgb)/0.85);
    color: rgb(var(--ink-rgb)/0.75);
  }

  .chip-toggle-active {
    background-color: rgb(var(--canopy-rgb));
    color: #fff;
    box-shadow: var(--shadow-soft);
  }

  .chip-toggle-muted {
    background-color: rgb(var(--surface-rgb)/0.8);
    color: rgb(var(--ink-rgb)/0.6);
  }

  .chip-scope {
    @apply rounded-full px-3 py-1 text-[11px] font-semibold transition;
  }

  .chip-scope-active {
    background-color: rgb(var(--ink-rgb));
    color: rgb(var(--surface-rgb));
  }

  .chip-scope-muted {
    background-color: rgb(var(--surface-rgb)/0.85);
    color: rgb(var(--ink-rgb)/0.65);
  }

  .type-chip-muted {
    @apply rounded-full px-2 py-0.5 text-[11px] font-semibold;
    background-color: rgb(var(--surface-rgb)/0.8);
    color: rgb(var(--ink-rgb)/0.6);
  }

  .type-empty {
    @apply text-xs text-slate-400;
  }

  .mini-kpi-card {
    @apply rounded-xl border px-3 py-2 shadow-sm;
    border-color: rgb(var(--border-rgb) / 0.70);
    background-color: rgb(var(--surface-rgb)/0.9);
  }

  .mini-kpi-card-alert {
    background-color: rgb(var(--flame-rgb)/0.1);
  }

  .mini-kpi-label {
    @apply text-[11px] uppercase tracking-wide;
    color: rgb(var(--ink-rgb)/0.6);
  }

  .mini-kpi-value {
    @apply text-base font-semibold;
    color: rgb(var(--ink-rgb));
  }

  /* ---------------------------------------------------------------
     Staff portal quick-action tiles
     Stronger white card on top of the shell
     --------------------------------------------------------------- */
  .action-tile {
    @apply flex items-center gap-3 rounded-2xl border bg-white p-3 shadow-sm
           transition-transform hover:-translate-y-0.5 hover:shadow-strong;
    border-color: rgb(var(--border-rgb) / 0.90);
  }

  .action-tile__icon {
    @apply flex h-9 w-9 items-center justify-center rounded-full
            bg-sky/40 text-canopy text-sm font-semibold;
  }

  /* ---------------------------------------------------------------
     2. Section Header
     --------------------------------------------------------------- */
  .section-header {
    @apply text-xs font-semibold uppercase tracking-wide text-slate-token/75;
  }

  /* ---------------------------------------------------------------
     3. Inline Chip
     --------------------------------------------------------------- */
  .inline-chip {
    @apply inline-flex items-center gap-1 px-2 py-1 rounded-full
           text-xs font-medium;
  }

  .inline-chip--health {
    @apply bg-red-50 text-red-600;
  }

  .inline-chip--birthday {
    @apply bg-amber-50 text-amber-700;
  }

  /* ---------------------------------------------------------------
     4. Block Card (for single attendance row)
     Slightly raised white block
     --------------------------------------------------------------- */
	.block-card {
		@apply flex flex-col gap-3 p-3 rounded-xl border shadow-sm
					bg-[rgb(var(--surface-rgb)/0.98)];
    border-color: rgb(var(--border-rgb) / 0.85);
	}

  /* ---------------------------------------------------------------
     5. Remark Button (blue accent)
     --------------------------------------------------------------- */
  .remark-btn {
    @apply !h-9 !w-9 rounded-full border border-transparent transition text-slate-token/80;
  }

  .remark-btn:hover {
    @apply border-jacaranda/30 bg-jacaranda/10 text-jacaranda;
  }

  .remark-btn--active {
    @apply border-jacaranda/40 bg-jacaranda/15 text-jacaranda;
  }

  /* -------------------------------------------
     6. Calendar Day Cell + Legend
     ------------------------------------------- */
  .calendar-day {
    @apply flex items-center justify-center transition-transform ease-out duration-150
           border border-transparent bg-transparent;
  }

  .calendar-day--selected .calendar-day__badge {
    background: rgb(var(--jacaranda-rgb));
    color: #fff;
    box-shadow: 0 4px 12px rgb(var(--jacaranda-rgb)/0.4);
    transform: scale(1.1);
  }

  .calendar-day__badge {
    @apply inline-flex items-center justify-center rounded-full font-medium
           transition-all duration-150;
    height: 2.25rem;
    width: 2.25rem;
    border: 2px solid transparent;
    font-size: 0.9rem;
  }

  /* Today (outline, no fill) */
  .calendar-day__badge--today {
    color: rgb(var(--jacaranda-rgb));
    border-color: rgb(var(--jacaranda-rgb)/0.35);
    @apply font-bold;
  }

  /* Future meeting */
  .calendar-day__badge--meeting {
    background: #fff;
    color: rgb(var(--jacaranda-rgb));
    border-color: rgb(var(--jacaranda-rgb));
    box-shadow: 0 1px 2px rgb(var(--jacaranda-rgb)/0.15);
  }

  /* Recorded attendance */
  .calendar-day__badge--recorded {
    background: rgb(var(--leaf-rgb)/0.06);
    color: rgb(var(--leaf-rgb));
    border-color: rgb(var(--leaf-rgb));
    box-shadow: 0 1px 2px rgb(var(--leaf-rgb)/0.18);
    @apply font-semibold;
  }

  /* Missing */
  .calendar-day__badge--missing {
    background: rgb(var(--flame-rgb)/0.04);
    color: rgb(var(--flame-rgb));
    border-color: rgb(var(--flame-rgb));
    box-shadow: 0 0 0 1px rgb(var(--flame-rgb)/0.55);
    @apply font-semibold;
  }

  /* Muted */
  .calendar-day__badge--muted {
    color: rgb(var(--slate-rgb)/0.35);
  }

  /* Hover for clickable meeting days
     (was rgba(255, 255, 255, 0.96) — now rgb() with / alpha)
  */
  .calendar-day:hover .calendar-day__badge--meeting,
  .calendar-day:hover .calendar-day__badge--recorded,
  .calendar-day:hover .calendar-day__badge--missing {
    background: rgb(255 255 255 / 0.96);
    transform: translateY(-1px);
  }

  /* Legend dots */
  .legend-dot {
    @apply rounded-full border-2 border-solid bg-white;
    height: 0.9rem;
    width: 0.9rem;
  }

  .legend-dot--recorded {
    border-color: rgb(var(--leaf-rgb));
  }

  .legend-dot--scheduled {
    border-color: rgb(var(--jacaranda-rgb));
  }

  .legend-dot--missing {
    border-color: rgb(var(--flame-rgb));
  }


  /* ============================================================
     ANALYTICS SHELL & CARDS (shared across all dashboards)
     ============================================================ */

  /* Shell wrapping analytics content inside staff layout */
  .analytics-shell {
    @apply staff-shell gap-6;
  }

  /* Grid for cards – auto-fit, responsive */
  .analytics-grid {
    @apply grid gap-4 md:gap-6
           grid-cols-1 md:grid-cols-2 xl:grid-cols-3;
  }

  /* Base analytics card surface */
  .analytics-card {
    @apply palette-card p-4 sm:p-5 flex flex-col gap-3;
  }

  /* Wide variant (for time-series / tables) */
  .analytics-card--wide {
    @apply md:col-span-2;
  }

  /* Card header */
  .analytics-card__title {
    @apply text-xs font-semibold uppercase tracking-wide text-canopy;
  }

  .analytics-card__meta {
    @apply text-[0.7rem] text-slate-token/75;
  }

	/* Default card chart */
	.analytics-chart {
		width: 100%;
		height: 220px; /* or whatever you like for compact cards */
	}

	/* When the card is zoomed */
	.analytics-chart--expanded {
		height: min(520px, 70vh); /* grows but still bounded */
	}

  /* Empty state inside a card */
  .analytics-empty {
    @apply text-xs text-slate-token/70 mt-1;
  }

  /* Filters bar for analytics pages (reuses surface-toolbar aesthetics) */
  .analytics-filters {
    @apply surface-toolbar flex flex-wrap items-center gap-3 mb-4;
  }

  .analytics-filters__title {
    @apply text-xs font-semibold uppercase tracking-wide text-slate-token/80;
  }

	/* Content dialog fade, shared component skin */
	.content-dialog-fade-enter-active,
	.content-dialog-fade-leave-active {
		transition: opacity 0.18s ease-out;
	}

	.content-dialog-fade-enter-from,
	.content-dialog-fade-leave-to {
		opacity: 0;
	}


}
